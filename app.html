<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bear 財務駕駛艙 | Financial Cockpit</title>
    
    <link rel="manifest" href='data:application/manifest+json,%7B%22name%22%3A%22Bear%20%E8%B2%A1%E5%8B%99%E9%A7%95%E9%A7%9B%E8%89%99%22%2C%22short_name%22%3A%22Bear.saving%22%2C%22start_url%22%3A%22.%22%2C%22display%22%3A%22standalone%22%2C%22background_color%22%3A%22%23fcfbf9%22%2C%22theme_color%22%3A%22%23fcfbf9%22%2C%22icons%22%3A%5B%7B%22src%22%3A%22logo.png%22%2C%22sizes%22%3A%22192x192%22%2C%22type%22%3A%22image%2Fpng%22%2C%22purpose%22%3A%22any%20maskable%22%7D%2C%7B%22src%22%3A%22logo.png%22%2C%22sizes%22%3A%22512x512%22%2C%22type%22%3A%22image%2Fpng%22%2C%22purpose%22%3A%22any%20maskable%22%7D%5D%7D'>

    <link rel="icon" type="image/png" sizes="192x192" href="logo.png">
    <link rel="icon" type="image/png" sizes="32x32" href="logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="logo.png">
    <link rel="apple-touch-icon" href="logo.png">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#fcfbf9">
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Noto+Serif+TC:wght@400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root {
            --bg-color: #fcfbf9;
            --text-primary: #5a4d41;
            --text-secondary: #968c83;
            --accent: #b08d85;
            --card-bg: #ffffff;
            --success: #81c784;
            --warning: #ffd54f;
            --danger: #e57373;
            --info: #64b5f6;
            --bar-bg: #eee;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Montserrat', 'Noto Serif TC', sans-serif;
            background-color: var(--bg-color); color: var(--text-primary);
            margin: 0; padding: 0; padding-bottom: 90px;
            overscroll-behavior-y: none;
        }

        /* 頂部導覽 */
        header {
            background: var(--bg-color); padding: 20px 20px 10px;
            text-align: center; position: sticky; top: 0; z-index: 10;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        h1 { font-family: 'Playfair Display', serif; margin: 0; color: var(--accent); font-size: 1.5rem; }

        /* 頁面切換 */
        .page { display: none; padding: 20px; animation: fadeIn 0.3s ease; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* 卡片通用樣式 */
        .card {
            background: var(--card-bg); border-radius: 15px; padding: 20px;
            box-shadow: 0 5px 15px rgba(90,77,65,0.05); margin-bottom: 20px;
            border: 1px solid rgba(176, 141, 133, 0.1);
        }
        .card-title { font-weight: 600; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; }

        /* 預算進度條 */
        .budget-item { margin-bottom: 15px; }
        .budget-header { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 5px; }
        .budget-bar-bg { width: 100%; height: 8px; background: var(--bar-bg); border-radius: 10px; overflow: hidden; }
        .budget-bar-fill { height: 100%; width: 0%; transition: 0.5s ease; border-radius: 10px; }
        .budget-remain { font-size: 0.8rem; color: var(--text-secondary); text-align: right; margin-top: 3px; }

        /* 購物冷靜閘樣式 */
        .logic-card { text-align: center; }
        .logic-btn-group { display: flex; gap: 15px; margin-top: 20px; }
        .btn-yes { background: var(--success); flex: 1; border:none; padding:15px; border-radius:10px; color:#fff; font-weight:600; }
        .btn-no { background: var(--danger); flex: 1; border:none; padding:15px; border-radius:10px; color:#fff; font-weight:600; }
        .result-icon { font-size: 3rem; margin-bottom: 10px; display: block; }
        
        /* 購物清單紀錄樣式 */
        .shop-list-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 0; border-bottom: 1px dashed #eee;
        }
        .shop-info { flex: 1; text-align: left; }
        .shop-name { font-weight: 600; font-size: 1rem; color: var(--text-primary); }
        .shop-meta { font-size: 0.8rem; color: var(--text-secondary); margin-top: 4px; }
        .shop-status { 
            padding: 5px 10px; border-radius: 20px; font-size: 0.75rem; font-weight: 600; 
            min-width: 60px; text-align: center; margin-left: 10px;
        }
        .status-pass { background: rgba(129, 199, 132, 0.2); color: var(--success); }
        .status-wait { background: rgba(255, 213, 79, 0.2); color: #f9a825; }
        .status-stop { background: rgba(229, 115, 115, 0.2); color: var(--danger); }
        
        .timer-badge {
            display: inline-block; background: #333; color: #fff; 
            padding: 3px 8px
